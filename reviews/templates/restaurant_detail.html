{% extends 'base.html' %} 
{% load static %}
{% block content %} 
{% include 'navbar.html' %}

<div class="bg-[#1c1711] static flex min-h-screen bg-cover bg-fixed bg-no-repeat font-[Italiana] text-[#f8f0d3]">
  <!-- LEFT SIDE -->
  <div class="relative w-[45%]">
    <img src="{% static 'images/big_food.jpg' %}" alt="Restaurant Image" class="h-full w-full object-cover" />
  </div>

  <!-- RIGHT SIDE -->
  <div class="split right flex flex-col p-4 w-[55%] mx-auto items-center">
    <!-- Back Button -->
    <div class="absolute left-5 mt-10">
      <a href="{% url 'main:show_main' %}">
        <button class="text-[#B89120] hover:text-[#C4A85E]">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
      </a>
    </div>

    <!-- Restaurant Name -->
    <div class="mt-[50px] flex justify-center w-[75%]">
      <h1 class="text-center text-3xl font-bold">{{ restaurant.name }}</h1>
    </div>

    <div class="my-[20px] w-[75%]">
      <!-- Divider -->
      <div class="mx-auto h-[1px] w-full bg-[#2F2821]"></div>

      <!-- Restaurant Info Card -->
      <div class="mx-auto mt-[9%] w-full rounded-lg bg-[#2F2821] p-6 flex flex-col items-center space-y-4">
        <p class="text-center text-amber-500 text-lg font-semibold">Categories</p>
        
        <div class="w-full flex justify-around text-center">
          <p class="text-white">{{ restaurant.cuisine }}</p>
          <p class="text-white">{{ restaurant.island }}</p>
          <p class="text-white">{{ restaurant.contacts }}</p>
        </div>
      
        <a href="{{ restaurant.gmaps }}" class="text-amber-500 block text-center mt-2">View on Google Maps</a>
      </div>

      <!-- Divider -->
      <div class="mx-auto mt-8 h-[1px] w-full bg-[#2F2821]"></div>

      <!-- Reviews Section -->
      <div class="mt-[30px]">
        <h1 class="text-center text-3xl font-bold">Reviews</h1>
      </div>

      <!-- Reviews Info Card -->
      <h2 class="text-2xl font-semibold text-center text-[#f8f0d3] mb-6">Review {{ restaurant.name }}</h2>
      <div class="w-[75%] mx-auto rounded-lg bg-[#2F2821] p-6 flex flex-col items-center space-y-4">
            <ul>
              {% for review in reviews %}
                  <li>
                      <strong>{{ review.user.username }}</strong>: {{ review.rating }} stars
                      <p>{{ review.description }}</p>
                      <p><em>Reviewed on {{ review.created_at }}</em></p>
                  </li>
              {% empty %}
                  <li>No reviews yet.</li>
              {% endfor %}
          </ul>
          
          <h2>Leave a Review</h2>
          <form method="POST">
              {% csrf_token %}
              {{ form.as_p }}
              <button type="submit">Submit Review</button>
          </form>
      </div>
    </div>
  </div>
</div>

<br />

{% endblock %}
{% include 'footer2.html' %}